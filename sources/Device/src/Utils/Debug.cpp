#include "Debug.h"
#include "Log.h"
#include "Hardware/Timer.h"


//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
uint Debug::timeStart = 0;
uint Debug::timeCounter = 0;
uint Debug::timeStartCounter = 0;


//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
void Debug::StartProfiling()
{
    timeStart = gTimeUS;
}

//----------------------------------------------------------------------------------------------------------------------------------------------------
void Debug::PointProfiling(char *name)
{
    LOG_MESSAGE("%s %d", name, gTimeUS - timeStart);
}

//----------------------------------------------------------------------------------------------------------------------------------------------------
void Debug::ClearTimeCounter()
{
    timeCounter = 0;
}

//----------------------------------------------------------------------------------------------------------------------------------------------------
void Debug::StartIncreaseCounter()
{
    timeStartCounter = gTimeUS;
}

//----------------------------------------------------------------------------------------------------------------------------------------------------
void Debug::StopIncreaseCounter()
{
    timeCounter += (gTimeUS - timeStartCounter);
}

//----------------------------------------------------------------------------------------------------------------------------------------------------
uint Debug::GetTimeCounterUS()
{
    return timeCounter;
}
